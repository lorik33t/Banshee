@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap');

:root {
  /* VS Code Light+ inspired */
  --bg: #ffffff;
  --sidebar-bg: #f3f3f3;
  --activity-bg: #e7e7e7;
  --panel-bg: #f8f8f8;
  --editor-bg: #ffffff;
  --text: #1f2328;
  --muted: #6e7781;
  --border: #e5e5e5;
  --accent: #0969da;
  --accent-2: #1f883d;
  --radius-sm: 6px; --radius-md: 8px; --radius-lg: 10px;
  --shadow-1: 0 2px 6px rgba(0,0,0,0.06);
}

html, body, #root { height: 100%; }

body { margin: 0; background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }

.app-shell {
  display: grid;
  grid-template-columns: 48px 280px 1fr 360px;
  grid-template-rows: 30px 1fr 200px 24px;
  grid-template-areas:
    "titlebar titlebar titlebar titlebar"
    "activity sidebar editor chatbar"
    "activity panel panel chatbar"
    "statusbar statusbar statusbar statusbar";
  height: 100%;
}
.titlebar { grid-area: titlebar; display: flex; align-items: center; gap: 12px; padding: 0 10px; border-bottom: 1px solid var(--border); background: var(--bg); }
.activity { grid-area: activity; background: var(--activity-bg); border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding: 8px 0; gap: 8px; }
.sidebar { grid-area: sidebar; background: var(--sidebar-bg); border-right: 1px solid var(--border); display: flex; flex-direction: column; }
.editor { grid-area: editor; background: var(--editor-bg); }
.panel { grid-area: panel; background: var(--panel-bg); border-top: 1px solid var(--border); }
.chatbar { grid-area: chatbar; background: var(--bg); border-left: 1px solid var(--border); display: grid; grid-template-rows: auto 1fr auto; }
.statusbar { grid-area: statusbar; border-top: 1px solid var(--border); background: var(--bg); display: flex; align-items: center; justify-content: space-between; padding: 0 8px; font-size: 12px; color: var(--muted); }
.scroll { height: 100%; overflow: auto; }

/* explorer */
.explorer { height: 100%; display: flex; flex-direction: column; }
.explorer .header { padding: 10px 12px; display: flex; gap: 8px; align-items: center; border-bottom: 1px solid var(--border); }
.explorer .tree { padding: 8px; overflow: auto; }
.tree-item { display: flex; align-items: center; gap: 8px; padding: 6px 8px; border-radius: 8px; color: var(--muted); cursor: default; }
.tree-item:hover { background: #eaeaea; color: var(--text); }

.chip { border: 1px solid var(--border); border-radius: 999px; padding: 6px 12px; color: var(--muted); background: #f9fafb; font-size: 12px; }
.btn { border-radius: 10px; padding: 8px 12px; border: 1px solid var(--border); background: #ffffff; color: var(--text); transition: 120ms ease background, 120ms ease border-color, 120ms ease box-shadow; box-shadow: var(--shadow-1); }
.btn:hover { background: #f9fafb; border-color: #d1d5db; }
.btn--ghost { background: transparent; box-shadow: none; }
.btn--accent { background: var(--accent); border-color: var(--accent); color: #fff; box-shadow: 0 6px 14px rgba(79,70,229,0.2); }
.btn--danger { border-color: #fecaca; background: #fee2e2; color: #7f1d1d; box-shadow: none; }

.card { border: 1px solid var(--border); border-radius: 8px; background: var(--bg); box-shadow: var(--shadow-1); }

.conversation { padding: 28px 32px; }
.message { margin-bottom: 18px; }
.assistant { background: #eef2ff; border: 1px solid #e0e7ff; border-radius: var(--radius-md); box-shadow: none; padding: 12px; }
.user { opacity: 0.9; }

.composer { position: sticky; bottom: 0; padding: 12px 16px; background: #ffffff; border-top: 1px solid var(--border); }
.input { width: 100%; color: var(--text); background: #ffffff; border: 1px solid var(--border); border-radius: var(--radius-md); padding: 12px 14px; outline: none; }
.input:focus { border-color: rgba(79,70,229,0.6); box-shadow: 0 0 0 3px rgba(79,70,229,0.15); }

/* chat-specific */
.chat-pane { height: 100%; display: grid; grid-template-rows: 1fr auto; }
.chat-stream { padding: 14px 12px; overflow: auto; }
.msg-row { display: grid; grid-template-columns: 32px 1fr; gap: 10px; margin-bottom: 12px; align-items: flex-start; }
.avatar { width: 28px; height: 28px; border-radius: 999px; display: grid; place-items: center; font-size: 12px; font-weight: 700; color: #334155; background: #e5e7eb; border: 1px solid var(--border); }
.avatar.user { background: #e2e8f0; }
.bubble { border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px; background: #f9fafb; }
.bubble.assistant { background: #eef2ff; border-color: #e0e7ff; }
.bubble .role { font-size: 11px; opacity: 0.6; margin-bottom: 6px; }
.bubble .text { font-size: 14px; line-height: 1.6; }
.bubble code { font-family: JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, monospace; background: #eef2ff; padding: 2px 4px; border-radius: 6px; }
.streaming-caret { display: inline-block; width: 6px; height: 1em; background: currentColor; opacity: 0.35; animation: blink 1s steps(2, start) infinite; vertical-align: -2px; margin-left: 2px; }
@keyframes blink { to { visibility: hidden; } }

.composer-wrap { border-top: 1px solid var(--border); background: var(--panel-bg); padding: 10px; }
.composer-box { border: 1px solid var(--border); border-radius: 10px; background: #ffffff; padding: 6px; display: grid; grid-template-columns: 1fr auto; gap: 8px; box-shadow: var(--shadow-1); }
.composer-input { width: 100%; resize: none; border: none; outline: none; background: transparent; color: var(--text); font-family: inherit; font-size: 14px; line-height: 1.5; max-height: 140px; }
.composer-actions { display: flex; gap: 6px; align-items: center; }
.icon-btn { width: 28px; height: 28px; display: grid; place-items: center; border-radius: 8px; border: 1px solid var(--border); background: #f3f4f6; color: var(--muted); }
.icon-btn:hover { color: var(--text); background: #e5e7eb; }
.suggestion-row { display: flex; gap: 6px; margin-top: 8px; }
.suggestion { padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border); color: var(--muted); background: #f3f4f6; }
